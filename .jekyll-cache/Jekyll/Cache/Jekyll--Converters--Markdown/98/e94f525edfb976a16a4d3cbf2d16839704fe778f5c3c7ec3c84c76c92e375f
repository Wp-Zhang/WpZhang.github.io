I"ÇI<h2 id="numpyåŸºç¡€">NumpyåŸºç¡€</h2>
<h6 id="å»ºè®®ä¸jupyter-notebooké…åˆé˜…è¯»">å»ºè®®ä¸Jupyter Notebooké…åˆé˜…è¯»</h6>
<hr />

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
</code></pre></div></div>

<h3 id="æ¦‚è¿°">æ¦‚è¿°</h3>

<p>NumPyç‰¹ç‚¹ï¼š</p>
<ul>
  <li>å†…éƒ¨æ•°æ®å­˜å‚¨åœ¨è¿ç»­çš„å†…å­˜å—ä¸Š</li>
  <li>ç®—æ³•åº“ä½¿ç”¨Cè¯­è¨€ç¼–å†™</li>
  <li>é’ˆå¯¹å…¨é‡æ•°ç»„è¿›è¡Œå¤æ‚è¿ç®—ï¼Œ<strong>ä¸ç”¨ä½¿ç”¨å¾ªç¯</strong></li>
  <li>NumPyæ–¹æ³•æ¯”Pythonæ–¹æ³• <strong>å¿«</strong> 10~100å€ï¼Œä½¿ç”¨ <em>æ›´å°‘</em> çš„å†…å­˜</li>
</ul>

<h3 id="å¤šç»´æ•°ç»„å¯¹è±¡">å¤šç»´æ•°ç»„å¯¹è±¡</h3>

<h4 id="ç”Ÿæˆndarray">ç”Ÿæˆndarray</h4>

<h6 id="nparray--ç”±åˆ—è¡¨ç”Ÿæˆæ•°ç»„">np.array â€“ ç”±åˆ—è¡¨ç”Ÿæˆæ•°ç»„</h6>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data1</span><span class="p">)</span>
<span class="n">a</span>
<span class="c1"># è‡ªåŠ¨æ¨æ–­ç”Ÿæˆçš„æ•°æ®æ•°æ®ç±»å‹
</span><span class="n">a</span><span class="o">.</span><span class="n">dtype</span>
</code></pre></div></div>

<h6 id="npzeros--ç”Ÿæˆå…¨0æ•°ç»„">np.zeros â€“ ç”Ÿæˆå…¨0æ•°ç»„</h6>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># è®¾ç½®å‚æ•°dtypeå¯ä»¥è®¾å®šæ•°æ®ç±»å‹
</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</code></pre></div></div>

<h6 id="nparange--ç±»ä¼¼äºrange">np.arange â€“ ç±»ä¼¼äºrange</h6>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div></div>

<h6 id="npones--ç”Ÿæˆå…¨1æ•°ç»„">np.ones â€“ ç”Ÿæˆå…¨1æ•°ç»„</h6>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<h6 id="npeye--ç”Ÿæˆnnç‰¹å¾çŸ©é˜µ">np.eye â€“ ç”ŸæˆNÃ—Nç‰¹å¾çŸ©é˜µ</h6>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</h4>

<ul>
  <li>int, uint</li>
  <li>float</li>
  <li>complex</li>
  <li>bool</li>
  <li>object</li>
  <li>string_</li>
  <li>unicode_</li>
</ul>

<h6 id="astype--è½¬æ¢æ•°æ®ç±»å‹">astype â€“ è½¬æ¢æ•°æ®ç±»å‹</h6>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">arr_</span> <span class="o">=</span> <span class="n">arr</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float16</span><span class="p">)</span>

<span class="n">arr</span><span class="o">.</span><span class="n">dtype</span>
<span class="n">arr_</span><span class="o">.</span><span class="n">dtype</span>
</code></pre></div></div>

<h4 id="æ•°ç»„ç®—æ•°--å‘é‡åŒ–">æ•°ç»„ç®—æ•° â€“ å‘é‡åŒ–</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">)])</span>
<span class="n">arr</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">*</span> <span class="n">arr</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">1</span> <span class="o">/</span> <span class="n">arr</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="o">*</span><span class="n">arr</span>
</code></pre></div></div>

<h4 id="åŸºç¡€ç´¢å¼•ä¸åˆ‡ç‰‡">åŸºç¡€ç´¢å¼•ä¸åˆ‡ç‰‡</h4>

<p>åŸºæœ¬æ“ä½œä¸Pythonå†…å»ºçš„listç›¸åŒï¼Œå¤šç»´æ•°ç»„ç•¥æœ‰åŒºåˆ«</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
<span class="n">arr</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">:,</span> <span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="å¸ƒå°”ç´¢å¼•">å¸ƒå°”ç´¢å¼•</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">words</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s">"Apple"</span><span class="p">,</span> <span class="s">"Bat"</span><span class="p">,</span> <span class="s">"Cake"</span><span class="p">,</span> <span class="s">"Dog"</span><span class="p">,</span> <span class="s">"Bat"</span><span class="p">])</span>
<span class="n">condition</span> <span class="o">=</span> <span class="n">words</span> <span class="o">==</span> <span class="s">"Bat"</span>

<span class="n">words</span>
<span class="n">condition</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="p">)])</span>
<span class="n">arr2</span>
<span class="n">arr2</span><span class="p">[</span><span class="n">condition</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="ç¥å¥‡ç´¢å¼•--æŒ‰æŒ‡å®šé¡ºåºç´¢å¼•">ç¥å¥‡ç´¢å¼• â€“ æŒ‰æŒ‡å®šé¡ºåºç´¢å¼•</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">)])</span>
<span class="n">arr</span>
<span class="n">arr</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
</code></pre></div></div>

<p><strong><em>ç¥å¥‡ç´¢å¼•å°†æ•°æ®å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­</em></strong></p>

<h4 id="æ•°ç»„è½¬ç½®">æ•°ç»„è½¬ç½®</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="p">)])</span>
<span class="n">arr</span>
<span class="n">arr</span><span class="o">.</span><span class="n">T</span>
</code></pre></div></div>

<h3 id="é€šç”¨å‡½æ•°--é€å…ƒç´ æ•°ç»„å‡½æ•°">é€šç”¨å‡½æ•° â€“ é€å…ƒç´ æ•°ç»„å‡½æ•°</h3>

<h4 id="ä¸€å…ƒé€šç”¨å‡½æ•°">ä¸€å…ƒé€šç”¨å‡½æ•°</h4>

<ul>
  <li>abs, fbs Â Â  ç»å¯¹å€¼</li>
  <li>sqrt Â Â  å¼€æ–¹</li>
  <li>square Â Â  å¹³æ–¹</li>
  <li>exp Â Â  è‡ªç„¶æŒ‡æ•°å€¼e^x</li>
  <li>log log2 log10 log1p Â Â  log1p:log(1+x)</li>
  <li>â€¦</li>
</ul>

<h4 id="äºŒå…ƒé€šç”¨å‡½æ•°">äºŒå…ƒé€šç”¨å‡½æ•°</h4>

<ul>
  <li>add Â Â  æ•°ç»„ç›¸åŠ </li>
  <li>multiply Â Â  å…ƒç´ å¯¹åº”ç›¸ä¹˜</li>
  <li>divide Â Â  é™¤</li>
  <li>â€¦</li>
</ul>

<h3 id="é¢å‘æ•°ç»„ç¼–ç¨‹">é¢å‘æ•°ç»„ç¼–ç¨‹</h3>

<h4 id="å°†æ¡ä»¶é€»è¾‘ä½œä¸ºæ•°ç»„æ“ä½œ">å°†æ¡ä»¶é€»è¾‘ä½œä¸ºæ•°ç»„æ“ä½œ</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="c1">#å°†æ•°ç»„ä¸­å¤§äº0çš„å…ƒç´ ç½®1ï¼Œå…¶ä½™ç½®0
</span><span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">arr</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">#np.where(condition, if condition, else)
</span>
<span class="n">arr</span>
<span class="n">result</span>
</code></pre></div></div>

<h4 id="æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•">æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•</h4>

<ul>
  <li>sum Â Â  æ±‚å’Œ</li>
  <li>mean Â Â  æ±‚å¹³å‡å€¼</li>
  <li>std, var Â Â  æ±‚æ ‡å‡†å·®ï¼Œæ–¹å·®</li>
  <li>min, max Â Â  æœ€å°å€¼ï¼Œæœ€å¤§å€¼</li>
  <li>argmin, argmax Â Â  æœ€å°å€¼ï¼Œæœ€å¤§å€¼çš„ä½ç½®</li>
  <li>cumsum Â Â  ä»0å¼€å§‹å…ƒç´ ç´¯ç§¯å’Œ</li>
  <li>cumprod Â Â  ä»1å¼€å§‹å…ƒç´ ç´¯ç§¯ç§¯</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># cumsum
</span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span>
<span class="n">arr</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># cumprod
</span><span class="n">np</span><span class="o">.</span><span class="n">cumprod</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="é›†åˆé€»è¾‘">é›†åˆé€»è¾‘</h4>

<ul>
  <li>unique(x) Â Â  å¯¹xå»é‡å¹¶æ’åº</li>
  <li>intersect1d(x,y) Â Â  è®¡ç®—xå’Œyäº¤é›†å¹¶æ’åº</li>
  <li>union1d(x,y) Â Â  è®¡ç®—xå’Œyå¹¶é›†å¹¶æ’åº</li>
  <li>in1d(x,y) Â Â  åˆ¤æ–­xä¸­å…ƒç´ æ˜¯å¦åœ¨yä¸­ï¼Œè¿”å›å¸ƒå°”æ•°ç»„</li>
  <li>setdiff1d(x,y) Â Â  å·®é›†</li>
  <li>setxor1d(x,y) Â Â  å¼‚æˆ–é›†</li>
</ul>

<h3 id="æ–‡ä»¶è¾“å…¥è¾“å‡º">æ–‡ä»¶è¾“å…¥è¾“å‡º</h3>

<h4 id="å­˜å‚¨">å­˜å‚¨</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">'file_name'</span><span class="p">,</span> <span class="n">arr</span><span class="p">)</span>
</code></pre></div></div>

<p>æ–‡ä»¶ç±»å‹ä¸º.npy</p>

<h4 id="è¯»å–">è¯»å–</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">'file_name.npy'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="çº¿æ€§ä»£æ•°">çº¿æ€§ä»£æ•°</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">)])</span>
</code></pre></div></div>

<h4 id="çŸ©é˜µç‚¹ä¹˜">çŸ©é˜µç‚¹ä¹˜</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ä»¥ä¸‹ä¸‰ä¸ªæ“ä½œç­‰ä»·
</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">x</span> <span class="o">@</span> <span class="n">y</span>
</code></pre></div></div>

<h4 id="å…¶ä»–æ“ä½œ">å…¶ä»–æ“ä½œ</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy.linalg</span>
</code></pre></div></div>
:ET